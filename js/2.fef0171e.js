(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{5485:function(t,a,e){"use strict";var n=e("b815"),i=e.n(n);i.a},"8b24":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"flex column topSearch",class:t.bgClass},[e("div",{staticClass:"q-pa-md q-gutter-sm",attrs:{id:"Info"}},[e("q-banner",{staticClass:"bg-orange text-white",attrs:{"inline-actions":"",rounded:""},scopedSlots:t._u([{key:"action",fn:function(){return[e("q-btn",{attrs:{flat:"",label:"Verstanden"},on:{click:t.closeInfo}})]},proxy:!0}])},[t._v("\n      Wenn deine Stadt nicht gefunden wird, versuche es mit der n√§chst bekannteren.\n\n      ")])],1),e("div",{staticClass:"col q-pt-lg q-px-md"},[e("q-input",{attrs:{"bottom-slots":"",placeholder:"Search",dark:"",borderless:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getWeatherbySearch(a)}},scopedSlots:t._u([{key:"before",fn:function(){return[e("q-icon",{attrs:{name:"my_location"},on:{click:t.getLocation}})]},proxy:!0},{key:"append",fn:function(){return[e("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"search"},on:{click:t.getWeatherbySearch}})]},proxy:!0}]),model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t.weatherData?[e("div",{staticClass:"col result text-white text-center textData"},[e("div",{staticClass:"text-h4 weatherData-name"},[t._v("\n        "+t._s(t.weatherData.name)+"\n      ")]),e("div",{staticClass:"text-h6 text-weight-light"},[t._v("\n        "+t._s(t.coronaData.data[t.gemeindezahl].county)+"\n      ")]),e("div",{staticClass:"text-h6 text-weight-light"},[t._v("\n        7 Tage Inzidenz\n      ")]),t.coronaData.data[t.gemeindezahl].weekIncidence<50?[e("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"green"}},[e("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]:t.coronaData.data[t.gemeindezahl].weekIncidence>50&&t.coronaData.data[t.gemeindezahl].weekIncidence<100?[e("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"orange"}},[e("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]:[e("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"red"}},[e("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]],2),e("div",{staticClass:"meta-data text-center"},[e("span",[t._v("Source: "+t._s(t.coronaData.meta.source))]),e("span",[t._v("Last Update: "+t._s(t.coronaData.meta.lastUpdate.split(".")[0]))]),e("span",{staticClass:"meta-data-div"},[t._v("Data provided by: "+t._s(t.coronaData.meta.contact.split("(")[0]))]),e("span",{staticClass:"donation"},[e("img",{staticClass:"buymecoffee-img",attrs:{src:"buymeacoffee.svg",height:"23px"}}),e("a",{staticClass:"buymecoffee",attrs:{href:"https://www.paypal.com/donate?hosted_button_id=VUDEMUZAVN3Q2"}},[t._v(" Buy me a coffee")])])])]:[e("div",{staticClass:"col column text-center text-white"},[e("div",{staticClass:"col text-h2 text-weight-thin intro"},[t._v("\n        What's my "),e("br"),t._v(" Incidence\n      ")]),e("q-btn",{staticClass:"col getLocationBtn",attrs:{flat:""},on:{click:t.getLocation}},[e("q-icon",{attrs:{left:"",size:"3em",name:"my_location"}}),e("div",[t._v("Find my location")])],1)],1)],e("div",{staticClass:"wrapper"},[e("div",{staticClass:"box"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])])],2)},i=[],s=(e("c975"),{name:"PageIndex",data(){return{search:"",weatherData:null,coronaData:null,weekIncidence:"",gemeindezahl:null,lat:null,lon:null,apiURL:"https://api.openweathermap.org/data/2.5/weather",apiCoronaURL:"https://api.corona-zahlen.org/districts/",apiKey:"56bc2a1374eb7daa0e9aa172391c3899"}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"}},methods:{getLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition(t=>{this.lat=t.coords.latitude,this.lon=t.coords.longitude,this.getWeatherByCoords()})},getWeatherByCoords(){this.$q.loading.show(),this.$axios(`${this.apiURL}?lat=${this.lat}&lon=${this.lon}&appid=${this.apiKey}&units=metric`).then(t=>{this.weatherData=t.data,this.get_ags(),this.$q.loading.hide()})},getWeatherbySearch(){this.$q.loading.show(),this.$axios(`${this.apiURL}?q=${this.search}&appid=${this.apiKey}&units=metric`).then(t=>{this.weatherData=t.data,this.get_ags()}),this.$q.loading.hide()},get_ags(){var t=this.weatherData.name,a="";this.$axios.get("ags.txt").then(e=>{for(let n=0;n<5;n++)a+=e.data.charAt(e.data.indexOf(t)-26+n);this.gemeindezahl=a,this.getCoronaStats()})},getCoronaStats(){console.log("get c-data",this.gemeindezahl),this.$axios("https://api.corona-zahlen.org/districts/"+this.gemeindezahl).then(t=>{this.coronaData=t.data,console.log("c-data",this.coronaData)})},closeInfo(){var t=document.getElementById("Info");t.style.display="none"}}}),o=s,c=(e("5485"),e("2877")),r=e("9989"),l=e("54e1"),d=e("9c40"),h=e("27f9"),g=e("0016"),p=e("eebe"),u=e.n(p),m=Object(c["a"])(o,n,i,!1,null,null,null);a["default"]=m.exports;u()(m,"components",{QPage:r["a"],QBanner:l["a"],QBtn:d["a"],QInput:h["a"],QIcon:g["a"]})},b815:function(t,a,e){}}]);