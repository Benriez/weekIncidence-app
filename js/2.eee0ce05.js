(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{5485:function(t,e,a){"use strict";var n=a("b815"),i=a.n(n);i.a},"8b24":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column topSearch",class:t.bgClass},[a("q-banner",{staticClass:"text-white bg-red turn-on-location",attrs:{"inline-actions":""},on:{click:t.TurnOnLocation},scopedSlots:t._u([{key:"action",fn:function(){return[a("q-btn",{attrs:{flat:"",color:"white",label:"Got it"}})]},proxy:!0}])},[t._v("\n    Bitte aktivieren Sie zuerst die Standortfreigabe auf Ihrem Ger채t.\n    ")]),a("div",{staticClass:"col q-pt-lg q-px-md"},[a("q-input",{attrs:{"bottom-slots":"",placeholder:"Suche",dark:"",borderless:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getWeatherbySearch(e)}},scopedSlots:t._u([{key:"before",fn:function(){return[a("q-icon",{attrs:{name:"my_location"},on:{click:t.getLocation}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"search"},on:{click:t.getWeatherbySearch}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.coronaData?[a("div",{staticClass:"col result text-white text-center textData"},[a("div",{staticClass:"text-h4 weatherData-name"},[t._v("\n        "+t._s(t.weatherData.name)+"\n      ")]),a("div",{staticClass:"text-h6 text-weight-light"},[t._v("\n        "+t._s(t.coronaData.data[t.gemeindezahl].county)+"\n      ")]),a("div",{staticClass:"text-h6 text-weight-light"},[t._v("\n        7 Tage Inzidenz\n      ")]),t.coronaData.data[t.gemeindezahl].weekIncidence<50?[a("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"green"}},[a("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]:t.coronaData.data[t.gemeindezahl].weekIncidence>50&&t.coronaData.data[t.gemeindezahl].weekIncidence<100?[a("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"orange"}},[a("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]:[a("div",{staticClass:"text-h1 text-weight-light q-my-lg relative-position",staticStyle:{color:"red"}},[a("span",[t._v(t._s(Math.round(t.coronaData.data[t.gemeindezahl].weekIncidence)))])])]],2),a("div",{staticClass:"meta-data text-center"},[a("span",[t._v("Source: "+t._s(t.coronaData.meta.source))]),a("span",[t._v("Last Update: "+t._s(t.coronaData.meta.lastUpdate.split(".")[0]))]),a("span",{staticClass:"meta-data-div"},[t._v("Data provided by: "+t._s(t.coronaData.meta.contact.split("(")[0]))]),a("span",{staticClass:"donation"},[a("img",{staticClass:"buymecoffee-img",attrs:{src:"buymeacoffee.svg",height:"23px"}}),a("a",{staticClass:"buymecoffee",attrs:{href:"https://www.paypal.com/donate?hosted_button_id=VUDEMUZAVN3Q2"}},[t._v(" Buy me a coffee")])])])]:[a("div",{staticClass:"col column text-center text-white"},[a("div",{staticClass:"col text-h2 text-weight-thin intro"},[t._v("\n        Wie hoch ist meine "),a("br"),t._v(" Inzidenz?\n      ")]),a("q-btn",{staticClass:"col getLocationBtn",attrs:{flat:""},on:{click:t.getLocation}},[a("q-icon",{attrs:{left:"",size:"3em",name:"my_location"}}),a("div",[t._v("Finde meinen Ort")])],1)],1)],a("v-color-picker",{attrs:{"dot-size":"25","hide-inputs":"","swatches-max-height":"100"}}),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"box"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])])],2)},i=[],s=(a("c975"),a("fb6a"),{name:"PageIndex",data(){return{search:"",weatherData:null,coronaData:null,weekIncidence:"",gemeindezahl:null,lat:null,lon:null,apiURL:"https://api.openweathermap.org/data/2.5/weather",apiCoronaURL:"https://api.corona-zahlen.org/districts/",apiKey:"56bc2a1374eb7daa0e9aa172391c3899"}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"}},methods:{getLocation(){this.$q.loading.show(),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):alert("Geolocation is not supported by this browser.")},showPosition(t){this.lat=t.coords.latitude,this.lon=t.coords.longitude,this.getWeatherByCoords()},showError(t){switch(this.$q.loading.hide(),t.code){case t.PERMISSION_DENIED:var e=document.getElementsByClassName("turn-on-location")[0];e.style.display="flex";break;case t.POSITION_UNAVAILABLE:alert("Location information is unavailable.");break;case t.TIMEOUT:alert("The request to get user location timed out.");break;case t.UNKNOWN_ERROR:alert("An unknown error occurred.");break}},getWeatherByCoords(){this.$q.loading.show(),this.$axios(`${this.apiURL}?lat=${this.lat}&lon=${this.lon}&appid=${this.apiKey}&units=metric`).then(t=>{this.weatherData=t.data,this.get_ags()}),this.$q.loading.hide()},getWeatherbySearch(){this.$q.loading.show(),this.$axios(`${this.apiURL}?q=${this.search}&appid=${this.apiKey}&units=metric`).then(t=>{this.weatherData=t.data,console.log("weathermap",this.weatherData),this.weatherData.name.includes("Regierungsbezirk")?this.weatherData.name=this.weatherData.name.slice(17):"Wurzburg"==this.weatherData.name?this.weatherData.name="W체rzburg":"Munich"==this.weatherData.name?this.weatherData.name="M체nchen":"Nuremberg"==this.weatherData.name?this.weatherData.name="N체rnberg":"Hanover"==this.weatherData.name?this.weatherData.name="Hannover":"Hamelin"==this.weatherData.name?this.weatherData.name="Hameln":this.weatherData.name.includes("Direktionsbezirk")&&(this.weatherData.name=this.weatherData.name.slice(17)),this.get_ags()}),this.$q.loading.hide()},get_ags(){var t=this.weatherData.name,e="";this.$axios.get("ags.txt").then(a=>{for(let n=0;n<5;n++)e+=a.data.charAt(a.data.indexOf(t)-26+n);this.gemeindezahl=e,console.log("gemeindezahl",this.gemeindezahl),this.getCoronaStats()})},getCoronaStats(){console.log("get c-data",this.gemeindezahl),this.$axios("https://api.corona-zahlen.org/districts/"+this.gemeindezahl).then(t=>{this.coronaData=t.data,console.log("c-data",this.coronaData)})},TurnOnLocation(){var t=document.getElementsByClassName("turn-on-location")[0];t.style.display="none"},closeInfo(){var t=document.getElementById("Info");t.style.display="none"},closeCounter(){var t=document.getElementsByClassName("counterimg")[0];t.style.display="none"}}}),o=s,r=(a("5485"),a("2877")),c=a("9989"),h=a("54e1"),l=a("9c40"),d=a("27f9"),g=a("0016"),m=a("eebe"),u=a.n(m),p=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=p.exports;u()(p,"components",{QPage:c["a"],QBanner:h["a"],QBtn:l["a"],QInput:d["a"],QIcon:g["a"]})},b815:function(t,e,a){}}]);